<div class="d-flex flex-column w-100 h-100">
  <!--COMMENTS-->
  <div class="container" *ngFor="let comment of currentData.comments">
    <comment [comment]="comment"></comment>
  </div>
  <!--ADD A COMMENT/REPLY-->
  <div class="d-flex flex-column container">
    <div class="row">
      <div class="col-lg-6 col-md-12 mx-auto">
        <mat-card class="border mt-4 mat-elevation-z0">
          <div class="d-flex align-items-center" *ngIf="userService.replyingTo">
            <p class="m-0">
              Replying to
              <span class="primary-color"
                >@{{ userService.replyingTo?.username }}</span
              >
            </p>
            <button
              mat-icon-button
              [color]="'primary'"
              (click)="onRemoveReplyingTo()"
            >
              <span class="material-icons me-1 mb-1">close</span>
            </button>
          </div>

          <div class="d-flex align-items-start">
            <mat-form-field class="w-100 me-3 flex-grow-1" appearance="outline">
              <mat-label>Add a comment</mat-label>
              <textarea
                #textArea
                style="resize: none; height: 80px"
                matInput
                placeholder="Add a comment"
              ></textarea>
            </mat-form-field>
            <button
              (click)="onAddComment(textArea)"
              class="px-2"
              mat-raised-button
              [color]="'primary'"
            >
              SEND
            </button>
          </div>
        </mat-card>
      </div>
    </div>
  </div>
</div>
